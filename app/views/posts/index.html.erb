<div class="card">
  <div class="card-body">
    <h5 class="card-title">Posts</h5>
    <p class="card-text">
      <% if flash[:notice].present? %>
      <div class="alert alert-warning" role="alert">
        <%= flash[:notice] %>
      </div>
    <% end %>
    </p>
    <%= render 'import_form' %>
  </div>
</div>  

<h1>Todos os meus posts</h1><table>
<%= link_to 'Cadastrar novo post', new_post_path %>
 <tr>
  <th>Title</th>
  <th>Description</th>
  <th>Autor</th>
 </tr>
 <% if @posts.any? %> 
  <% @posts.each do |post| %>
    <tr>
      <td><%= post.title %></td>
      <td><%= post.description %></td>
      <td><%= post.user.email %></td>
      <td><%= post.created_at %></td>
      <% if user_signed_in? %>
        <td><%= link_to 'Edit', edit_post_path(post) %></td>
        <td><%= link_to 'Show', post_path(post) %></td>
        <td><%= link_to "Destroy", post_path(post), data: {
                      turbo_method: :delete,
                      turbo_confirm: "Are you sure?"
                    } %></td>
      <% end %>  
    </tr>
  <% end %>
 <% else %> 
  <p>Desculpe, ainda não há posts criados!<p>
 <% end %>

</table>

<%= build_pagination @posts %> <!-- helper created -->

  </div>
</div>