<h1>Home</h1>
<%= render 'welcome' %>

<ul class="list-group">
  <li class="list-group-item d-flex justify-content-between align-items-center">
    Quantidade de posts publicados:
    <span class="badge bg-success badge-pill"><%= Post.count %></span>
  </li>
  <% unless user_signed_in? %>
  <li class="list-group-item d-flex justify-content-between align-items-center bg-info text-dark"">
    Para criar ou editar um post, por favor, crie uma conta ou efetue o login no menu acima.
  </li>
  <% end %>
</ul>

<table class="table table-striped">
  <thead>
    <th><%= t("activerecord.attributes.post.title") %></th>
    <th><%= t("activerecord.attributes.post.body") %></th>
    <th><%= t("activerecord.attributes.post.date") %></th>
    <th><%= t("activerecord.attributes.post.author") %></th>
  </thead>
 <% if @posts.any? %>
   <% @posts.each do |post| %>
    <tr>
      <td><%= link_to post.title.truncate(30), post_path(post) %></td>
      <td><%= post.description.truncate(100) %></td>
      <td><%= l post.created_at, format: :long %></td>
      <td class="text-align-right">
        <span class="badge bg-secondary"><%= post.user.email %></span>    
      </td>
    </tr>
   <% end %>
 <% else %>
    <p>Você ainda não criou nenhum post.</p>
 <% end %>
</table>

<%= build_pagination @posts %>  <!-- helper created -->